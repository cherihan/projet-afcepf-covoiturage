<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets">

<h:head>
	<title>Header</title>
	<link type="text/css" rel="stylesheet"
		href="../resources/css/header.css">
	</link>
</h:head>

<body>
	<div class="header">
		<h:form id="connexionForm">
			<div class="classTrajetEtCompte">
				<p class="classTitle">
					Smart&nbsp;CO.<br />
				</p>

				<h:commandButton value="Rechercher un trajet" styleClass="linkResearch" />
				<h:commandButton value="Creer un compte" styleClass="linkCreate" />
			</div>

			<div class="classConnexion">

				<fieldset>
					<div>
						<h:panelGroup rendered="#{!connectionMBean.userConnected and !connectionMBean.userExists}">
							<span class="messageErrHeader">L'identifiant et/ou le mot de passe sont incorrects ! Réessayez.</span>
						</h:panelGroup>
					</div>
					<div>
						<h:panelGroup rendered="#{!connectionMBean.userConnected}">
							<h:outputLabel value="Login" />
							<h:inputText value="#{connectionMBean.email}" />
							
							<h:selectBooleanCheckbox value="#{connectionMBean.userRemembered}" />
							<h:outputText value="Se souvenir de moi" />
							<br />
							<h:outputLabel value="Password" />
	
							<h:inputSecret value="#{connectionMBean.password}" />
							<h:commandButton styleClass="classBtnLogin" value="Se connecter" action="#{connectionMBean.seConnecter()}">
								<f:ajax render="@form" execute="@form"/>
							</h:commandButton>
							<br /> <br />
							<h:outputLink styleClass="classLink">
								<f:verbatim>Mot de passe oublié ?</f:verbatim>
							</h:outputLink>
							<br />
							<h:outputLink styleClass="classLink">
								<f:verbatim>Pas encore membre ? Inscrivez-vous gratuitement</f:verbatim>
							</h:outputLink>
						</h:panelGroup>
												
						<h:panelGroup rendered="#{connectionMBean.userConnected}">
							<br />
							<span>Bonjour </span>
							<b>
								<h:outputText value="#{connectionMBean.user.civilite.toUpperCase()}" />
								<span> </span>
								<h:outputText value="#{connectionMBean.user.nom}" />
								<span> </span>
								<h:outputText value="#{connectionMBean.user.prenom}" />
							</b>
							<br /> <br />
							<h:commandLink value="Se deconnecter" action="#{connectionMBean.seDeconnecter()}"/>
						</h:panelGroup>
					</div>
				</fieldset>
			</div>

			<div class="classDeconnexionEtProfil">
				<h:panelGroup rendered="#{connectionMBean.userConnected}">
					<ul id="menu-accordeon">
						<li>
							<h:outputLink>
								<f:verbatim>Mon profil</f:verbatim>
							</h:outputLink>
							<ul>
								<li>
									<h:outputLink>
										<f:verbatim>Mes infos</f:verbatim>
									</h:outputLink>
								</li>
								<li>
									<h:outputLink>
										<f:verbatim>Mes trajets</f:verbatim>
									</h:outputLink>
								</li>
								<li>
									<h:outputLink>
										<f:verbatim>Mes avis</f:verbatim>
									</h:outputLink>
								</li>
							</ul>
						</li>
					</ul>
				</h:panelGroup>
			</div>
		</h:form>

	</div>

</body>
</html>
