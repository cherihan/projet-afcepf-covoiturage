<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets">

<ui:composition template="/template/commonLayout.xhtml">

	<ui:define name="title">
	
	

Creer un Trajet

</ui:define>


	<ui:define name="css">

		<link rel="stylesheet" href="../resources/css/common-style.css" />

		<link rel="stylesheet"
			href="../resources/css/jquery-ui-1.10.4.custom.css" />
		<link rel="stylesheet" type="text/css"
			href="../resources/css/jquery.datetimepicker.css" />
		<link rel="stylesheet" href="../resources/css/creerTrajet.css" />


	</ui:define>

	<ui:define name="javascript">

		<script type="text/javascript" src="../resources/js/jquery-1.10.2.js"></script>

		<script type="text/javascript"
			src="../resources/js/jquery-ui-1.10.4.custom.js"></script>
		<script type="text/javascript"
			src="../resources/js/jquery-ui-1.10.4.custom.min.js"></script>

		<script src="../resources/js/jquery.js"></script>
		<script src="../resources/js/jquery.datetimepicker.js"></script>

		<script type="text/javascript" src="../resources/js/index.js"></script>

	</ui:define>



	<ui:define name="content">


		<div class="classCreerTrajet">

			<h:form>





				<fieldset>
					<legend>Formulaire de creation d'un trajet</legend>
					<br />


					<h:outputLabel value="Ville de depart" for="villeDepart" />

					<h:selectOneMenu id="villeDepart"
						value="#{trajetMBean.villeDepart.nom   }">

						<f:selectItem itemValue="#{null}"
							itemLabel="--------Choisir une ville--------" />
						<f:selectItems value="#{trajetMBean.listNomVilles }" />

					</h:selectOneMenu>

					<h:message for="villeDepart" styleClass="errorClass" />

					<br /> <br />
					<h:outputLabel value="Ville d arrivee" />

					<h:selectOneMenu id="villeArrivee"
						value="#{trajetMBean.villeArrivee.nom   }">

						<f:selectItem itemValue="#{null}"
							itemLabel="--------Choisir une ville--------" />
						<f:selectItems value="#{trajetMBean.listNomVilles  }" />

					</h:selectOneMenu>

					<h:message for="villeArrivee" styleClass="errorClass" />
					<br /> <br />

					<h:outputLabel value="Date de depart" for="dateDepart" />

					<h:inputText id="dateDepart" required="true"
						requiredMessage="Date de depart obligatoire"
						value="#{trajetMBean.dateDepart}" style="width:90px;"
						styleClass="datePickerDeparture">



					</h:inputText>
					<h:message for="dateDepart" styleClass="errorClass" />
					<br /> <br />
					<h:outputLabel value="Tarif (en â‚¬)" />

					<h:inputText id="tarif" required="true"
						requiredMessage="Tarif obligatoire"
						validatorMessage="Le tarif ne peut etre egale a 0"
						value="#{trajetMBean.trajet.tarif }">
						<f:validateLongRange minimum="1" />
						<f:ajax event="blur" render="tarifMessage"></f:ajax>

					</h:inputText>
					<h:message id="tarifMessage" for="tarif" styleClass="errorClass" />
					<br /> <br />
					<h:outputLabel value="Nombre de passagers" />

					<h:selectOneMenu required="true"
						requiredMessage="Nombre de passagers obligatoire" id="nbPassagers"
						value="#{trajetMBean.nbPassagersSelected}">


						<f:selectItem itemValue="#{null}" itemLabel="------------" />
						<f:selectItem itemValue="1" itemLabel="1" />
						<f:selectItem itemValue="2" itemLabel="2" />
						<f:selectItem itemValue="3" itemLabel="3" />
						<f:selectItem itemValue="4" itemLabel="4" />
						<f:selectItem itemValue="5" itemLabel="5" />
						<f:selectItem itemValue="6" itemLabel="6" />

						<f:ajax event="blur" render="nbPassagersMessage"></f:ajax>
					</h:selectOneMenu>
					<h:message id="nbPassagersMessage" for="nbPassagers"
						styleClass="errorClass" />
					<br /> <br />

					<h:commandButton value="Valider"
						action="#{trajetMBean.creerTrajet(connectionMBean.user) }" styleClass="classBtnSubmit" />
					<h:commandButton value="Annuler" action="#{trajetMBean.annuler() }"
						styleClass="classBtnSubmit" />
				</fieldset>

			</h:form>

		</div>



	</ui:define>



</ui:composition>


</html>
